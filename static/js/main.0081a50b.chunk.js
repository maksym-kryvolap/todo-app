(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(8),o=c.n(n),l=(c(13),c(14),c(15),c(1)),a=c(7),s=c(2),i=c(3),r=c.n(i),d=function(e){var t=Object(l.useState)((function(){try{return JSON.parse(localStorage.getItem(e)||"")}catch(t){return[]}})),c=Object(s.a)(t,2),n=c[0],o=c[1];return[n,function(t){o(t),localStorage.setItem(e,JSON.stringify(t))}]},u=c(0),j=Object(l.createContext)(null);function f(e){var t=e.children,c=d("todosOriginal"),n=Object(s.a)(c,2),o=n[0],a=n[1],i=d("todos"),r=Object(s.a)(i,2),f=r[0],b=r[1],O=Object(l.useState)("All"),h=Object(s.a)(O,2),p=h[0],m=h[1],v=Object(l.useState)(!0),g=Object(s.a)(v,2),x=g[0],T=g[1],C=Object(l.useState)(!1),y=Object(s.a)(C,2),N=y[0],k=y[1],S=Object(l.useState)(!1),E=Object(s.a)(S,2),A=E[0],I=E[1],w={todosOriginal:o,setTodosOriginal:a,todos:f,setTodos:b,checkCompleted:function(e){var t=[];null===o||void 0===o||o.forEach((function(c){var n=c.id,o=c.title,l=c.completed;n===e.id?t.push({id:n,title:o,completed:!l}):t.push({id:n,title:o,completed:l})})),a(t),b(t)},deleteTodo:function(e){if(1===(null===o||void 0===o?void 0:o.length))a(void 0),b(void 0);else{var t=[];null===o||void 0===o||o.forEach((function(c){c.title!==e.title&&t.push(c)})),a(t),b(t)}},changeTitle:function(e,t){var c=[];null===o||void 0===o||o.forEach((function(n){var o=n.id,l=n.title,a=n.completed;o===e?t.length&&c.push({id:o,title:t,completed:a}):o!==e&&c.push({id:o,title:l,completed:a})})),a(c),b(c)},statusTodo:p,setStatus:m,statusTodosHandler:function(e){var t=[];switch(e){case"Active":return t=null===o||void 0===o?void 0:o.filter((function(e){return!e.completed})),T(!1),k(!0),I(!1),void b(t);case"Completed":return t=null===o||void 0===o?void 0:o.filter((function(e){return e.completed})),T(!1),k(!1),I(!0),void b(t);default:T(!0),k(!1),I(!1),b(o)}},all:x,setAll:T,active:N,setActive:k,completedTodo:A,setCompletedTodo:I};return Object(u.jsx)(j.Provider,{value:w,children:t})}function b(){return Object(l.useContext)(j)}var O=function(e){var t=e.todo,c=e.updateId,n=e.updateIdHandler,o=b(),a=o.checkCompleted,i=o.deleteTodo,d=o.changeTitle,j=o.todosOriginal,f=o.statusTodo,O=o.statusTodosHandler,h=t.id,p=t.title,m=t.completed,v=Object(l.useState)(p),g=Object(s.a)(v,2),x=g[0],T=g[1],C=Object(l.useRef)(null),y=function(){C.current&&C.current.focus()};return Object(l.useEffect)((function(){O(f)}),[j]),Object(l.useEffect)((function(){y()})),Object(u.jsxs)("li",{className:r()({completed:m,editing:c===h}),children:[Object(u.jsxs)("div",{className:"view",children:[Object(u.jsx)("input",{type:"checkbox",className:"toggle",onChange:function(){a(t)},checked:m}),Object(u.jsx)("label",{onDoubleClick:function(){n(h),y()},children:p}),Object(u.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return i(t)}})]}),c===h&&Object(u.jsx)("input",{type:"text",ref:C,className:"edit",value:x,onChange:function(e){return T(e.target.value)},onKeyUp:function(e){"Enter"===e.key?(d(h,x),n(null)):"Escape"===e.key&&(n(null),T(p))},onBlur:function(e){n(null),d(h,e.target.value)}})]})},h=function(e){var t=e.todos,c=Object(l.useState)(null),n=Object(s.a)(c,2),o=n[0],a=n[1],i=function(e){a(e)};return Object(u.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t&&t.map((function(e){return Object(u.jsx)(O,{todo:e,updateId:o,updateIdHandler:i},e.id)}))})},p=function(e){var t=e.all,c=e.active,n=e.completedTodo,o=b(),a=o.setStatus,s=o.statusTodo,i=o.statusTodosHandler;Object(l.useEffect)((function(){i(s)}),[s]);var d=function(e){e.currentTarget.textContent&&a(e.currentTarget.textContent)};return Object(u.jsxs)("ul",{className:"filters",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/",className:r()({selected:t}),onClick:d,children:"All"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/active",className:r()({selected:c}),onClick:d,children:"Active"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/completed",className:r()({selected:n}),onClick:d,children:"Completed"})})]})},m=function(){var e=Object(l.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1],o=Object(l.useState)(0),i=Object(s.a)(o,2),r=i[0],d=i[1],j=Object(l.useState)(!1),f=Object(s.a)(j,2),O=f[0],m=f[1],v=b(),g=v.todosOriginal,x=v.setTodosOriginal,T=v.todos,C=v.setTodos,y=v.all,N=v.active,k=v.completedTodo;Object(l.useEffect)((function(){if(g){var e=g.filter((function(e){return!e.completed})).length;m(!r),d(e)}else d(0),m(!1)}));return Object(u.jsxs)("div",{className:"todoapp",children:[Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("h1",{children:"todos"}),Object(u.jsx)("form",{onSubmit:function(e){return function(e,t){if(e.preventDefault(),t.length){var c={id:+new Date,title:t,completed:!1};g?(x([].concat(Object(a.a)(g),[c])),C([].concat(Object(a.a)(g),[c]))):(x([c]),C([c])),n("")}}(e,c)},children:Object(u.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:c,onChange:function(e){return n(e.target.value)}})})]}),Object(u.jsxs)("section",{className:"main",children:[g&&!!g.length&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",onChange:function(){var e=[];null===g||void 0===g||g.forEach((function(t){var c=t.id,n=t.title;e.push({id:c,title:n,completed:!O})})),m(!O),x(e),C(e)},checked:O}),Object(u.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]}),T&&Object(u.jsx)(h,{todos:T})]}),g&&!!g.length&&Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(r," item").concat(r>0?"s":""," left")}),Object(u.jsx)(p,{all:y,active:N,completedTodo:k}),r<g.length&&Object(u.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=[];null===g||void 0===g||g.forEach((function(t){t.completed||e.push(t)})),m(!1),x(e),C(e)},children:"Clear completed"})]})]})},v=function(){return Object(u.jsx)(f,{children:Object(u.jsx)(m,{})})};o.a.render(Object(u.jsx)(v,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0081a50b.chunk.js.map